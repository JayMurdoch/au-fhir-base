<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="au-pi" />
  <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm">
    <valueInteger value="0"/> 
  </extension>
  <url value="http://hl7.org.au/fhir/StructureDefinition/au-pi" />
  <name value="AUPatientInternalIdentifier" />
  <title value="AU Patient Internal Identifier" />
  <status value="active" />
  <description value="This identifier profile defines a patient identifier that is unique within an application, for example a single instance on-premise practice management system or single and multi tenanted cloud based electronical medical record and clinical information systems and used in an Australian context. The Patient Internal Identifier is not to be confused with a Medical Record Number." />
  <kind value="complex-type" />
  <abstract value="false" />
  <type value="Identifier" />
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/Identifier" />
  <derivation value="constraint" />
  <differential>
    <element id="Identifier">
      <path value="Identifier" />
      <short value="Patient Internal Identifier" />
      <definition value="Identifier assigned to a patient within an application, for example a practice management system." />      
    </element> 
    <element id="Identifier.type">
      <path value="Identifier.type" />
      <min value="1"/>
      <patternCodeableConcept>
        <coding>
          <system value="http://terminology.hl7.org/CodeSystem/v2-0203" />
          <code value="PI" />
        </coding>
      </patternCodeableConcept>
    </element>
    <element id="Identifier.system">
      <path value="Identifier.system" />
      <short
             value="System identifier namespace for the application that assigned the patient internal identifier"/>
      <min value="1" /> 
    </element>
    <element id="Identifier.value">
      <path value="Identifier.value" />
      <short value="Patient Internal Identifier" />
      <min value="1" />          
    </element>
    <element id="Identifier.assigner">
      <path value="Identifier.assigner" />
      <short value="Organisation that assigned the patient identifier" />
      <min value="1" />
    </element>
    <element id="Identifier.assigner.display">
      <path value="Identifier.assigner.display" />
      <short value="Name of the assigning organisation" />
      <min value="1" />
    </element>
  </differential>
</StructureDefinition>
